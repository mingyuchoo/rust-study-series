* Workspace project
How to create a workspace project
** List
1. Create a workspace
2. Create a main project
3. Implement the three libraries
4. Add dependencies main project
5. Use three libraries main project
6. Run the workspace
** In details
*** 1. Create a workspace
#+BEGIN_SRC shell
  mkdir {workspace-project-name}
  cd {workspace-project-name}
  touch Cargo.toml
#+END_SRC
Edit ~Cargo.toml~
#+BEGIN_SRC toml
  [workspace]
  members = []
  resolver = "2"
#+END_SRC
*** 2. Create a main project
#+BEGIN_SRC shell
  cargo new --bin {mainer}
#+END_SRC
The project name will be added to =members= of ~Cargo.toml~ automatically.
#+BEGIN_SRC toml
  [workspace]
  members = ["mainer"]
  resolver = "2"
#+END_SRC
Create three library projects
#+BEGIN_SRC shell
  cargo new --lib {library_one}
  cargo new --lib {library_two}
  cargo new --lib {library_three}
#+END_SRC
The project name will be added to =members= of ~Cargo.toml~ automatically.
#+BEGIN_SRC toml
  [workspace]
  members = [
    "library_one",
    "library_two",
    "library_three",
    "mainer"
  ]
  resolver = "2"
#+END_SRC
*** 3. Implement the three libraries
Let's implement the three libraries
- ~library_one/src/lib.rs~
#+BEGIN_SRC rust
  pub fn add_one(x: i32) -> i32 {
    x + 1
  }
#+END_SRC
- ~library_two/src/lib.rs~
#+BEGIN_SRC rust
  pub fn add_two(x: i32) -> i32 {
    x + 2
  }
#+END_SRC
- ~library_three/src/lib.rs~
#+BEGIN_SRC rust
  pub fn add_three(x: i32) -> i32 {
    x + 3
  }
#+END_SRC
*** 4. Add dependencies main project
Add dependencies in ~Cargo.toml~ file of ={mainer}= project
#+BEGIN_SRC toml
  [package]
  name = "mainer"
  version = "0.1.0"
  edition = "2024"

  [dependencies]
  library_one   = { path = "../library_one"}
  library_two   = { path = "../library_two"}
  library_three = { path = "../library_three"}
#+END_SRC
*** 5. Use three libraries main project
Use three libraries in ={mainer}= project
- ~mainer/src/main.rs~
#+BEGIN_SRC rust
  fn main() {
    let num = 10;
    println!("{num} plus one is {}!", library_one::add_one(num));
    println!("{num} plus two is {}!", library_two::add_two(num));
    println!("{num} plus three is {}!", library_three::add_three(num));
  }
#+END_SRC
*** 6. Run the workspace
Run the workspace
#+BEGIN_SRC shell
  $ cd workspace
  $ cargo run
      Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.00s
     Running `target/debug/mainer`
  10 plus one is 11!
  10 plus two is 12!
  10 plus three is 13!
#+END_SRC
*** Add dependencies globally
Add ~[workspace.dependencies]~ to ~Cargo.toml~ of =workspace= automatically.
#+BEGIN_SRC toml
  [workspace.dependencies]
    log = "0.4"
#+END_SRC
*** Add dependencies sub-project
Add dependencies in ~Cargo.toml~ file of each project *without version*
#+BEGIN_SRC toml
  [dependencies]
    log = { workspace = true }
#+END_SRC
