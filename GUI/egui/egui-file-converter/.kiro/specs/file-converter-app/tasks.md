# Implementation Plan

- [x] 1. Workspace 및 프로젝트 구조 설정
  - Cargo workspace 루트 생성 및 멤버 프로젝트 정의
  - 각 크레이트의 기본 Cargo.toml 파일 생성
  - 공통 의존성을 workspace 레벨에서 설정
  - 프로젝트 디렉토리 구조 생성
  - _Requirements: 4.1, 4.2, 4.3, 4.4_

- [x] 2. Plugin Interface 크레이트 구현
  - Plugin 트레이트 및 관련 타입 정의 (PluginMetadata, FileFormat, ConversionResult, ConversionOptions)
  - 플러그인 생성자 타입 정의
  - 트레이트 메서드 문서화 추가
  - _Requirements: 1.1_

- [x] 3. Core 시스템 기본 구조 구현
  - [x] 3.1 Plugin Registry 구현
    - PluginRegistry 구조체 생성
    - 플러그인 등록, 조회, 목록 반환 메서드 구현
    - 스레드 안전성을 위한 Arc<RwLock> 사용
    - _Requirements: 1.2, 1.4_
  - [x] 3.2 Conversion Engine 구현
    - ConversionEngine 구조체 생성
    - 단일 파일 변환 메서드 구현
    - 일괄 변환 메서드 구현
    - _Requirements: 2.5, 7.3, 7.5_
  - [x] 3.3 에러 타입 정의
    - ConversionError enum 정의 (thiserror 사용)
    - 각 에러 케이스별 메시지 작성
    - _Requirements: 5.1, 5.2, 5.3_

- [x] 4. Database 크레이트 구현
  - [x] 4.1 데이터베이스 스키마 생성
    - conversion_history 테이블 정의
    - settings 테이블 정의
    - 인덱스 생성
    - _Requirements: 3.1_
  - [x] 4.2 History Manager 구현
    - HistoryManager 구조체 생성
    - 이력 추가 메서드 구현
    - 최근 이력 조회 메서드 구현 (최대 100개)
    - _Requirements: 3.2, 3.3, 3.4_
  - [x] 4.3 Settings Manager 구현
    - SettingsManager 구조체 생성
    - 설정 저장 및 로드 메서드 구현
    - 기본 설정값 정의
    - _Requirements: 8.1, 8.3_

- [x] 5. Text Converter 예제 플러그인 구현
  - [x] 5.1 플러그인 기본 구조 작성
    - TextConverterPlugin 구조체 생성
    - Plugin 트레이트 구현
    - 메타데이터 및 지원 형식 정의
    - _Requirements: 6.1, 6.3_
  - [x] 5.2 텍스트 인코딩 변환 로직 구현
    - encoding_rs 크레이트를 사용한 인코딩 감지
    - UTF-8, EUC-KR, CP949 등 주요 인코딩 지원
    - 파일 읽기/쓰기 구현
    - _Requirements: 6.2_
  - [x] 5.3 플러그인 README 작성
    - 플러그인 사용법 문서화
    - 개발 가이드 작성
    - _Requirements: 6.4_

- [x] 6. GUI 애플리케이션 기본 구조 구현
  - [x] 6.1 eframe 애플리케이션 설정
    - main.rs에서 eframe 초기화
    - 윈도우 설정 (크기, 제목 등)
    - FileConverterApp 구조체 생성
    - _Requirements: 2.1_
  - [x] 6.2 앱 상태 관리 구조 설계
    - 선택된 파일 목록 상태
    - 변환 진행 상태
    - 탭 상태 관리
    - Core 시스템 및 Database 연결
    - _Requirements: 2.1_
  - [x] 6.3 탭 기반 UI 레이아웃 구현
    - 상단 탭 메뉴 (변환, 이력, 설정)
    - 탭별 컨텐츠 영역 분리
    - _Requirements: 2.1_

- [x] 7. 파일 변환 UI 구현
  - [x] 7.1 파일 선택 기능 구현
    - rfd 크레이트를 사용한 파일 다이얼로그
    - 단일 및 다중 파일 선택 지원
    - 선택된 파일 목록 표시
    - _Requirements: 2.2, 7.1, 7.2_
  - [x] 7.2 출력 형식 선택 UI 구현
    - 현재 파일 형식 자동 감지 및 표시
    - 사용 가능한 출력 형식 드롭다운
    - 플러그인별 지원 형식 필터링
    - _Requirements: 2.3, 2.4_
  - [x] 7.3 변환 실행 및 진행 상태 표시
    - 변환 시작 버튼
    - 진행률 바 표시
    - 현재 처리 중인 파일 표시 (일괄 변환 시)
    - _Requirements: 2.5, 7.4_
  - [x] 7.4 에러 처리 및 사용자 알림
    - 에러 다이얼로그 표시
    - 사용자 친화적인 에러 메시지
    - _Requirements: 5.4_

- [x] 8. 변환 이력 UI 구현
  - [x] 8.1 이력 목록 표시
    - 스크롤 가능한 이력 목록
    - 각 항목별 주요 정보 표시 (입력/출력 파일, 상태, 시간)
    - _Requirements: 3.3_
  - [x] 8.2 이력 상세 정보 표시
    - 선택된 항목의 상세 정보 패널
    - 에러 메시지 표시 (실패한 경우)
    - _Requirements: 3.4_

- [x] 9. 설정 UI 구현
  - [x] 9.1 설정 화면 레이아웃
    - 기본 출력 디렉토리 설정
    - 테마 선택 (Light/Dark/System)
    - 언어 선택
    - _Requirements: 8.2_
  - [x] 9.2 설정 저장 및 로드
    - 설정 변경 시 Database에 저장
    - 앱 시작 시 설정 로드 및 적용
    - _Requirements: 8.1, 8.3_
  - [x] 9.3 설정 미리보기
    - 테마 변경 즉시 반영
    - _Requirements: 8.4_

- [x] 10. 플러그인 동적 로딩 구현
  - [x] 10.1 플러그인 디렉토리 스캔
    - 지정된 디렉토리에서 플러그인 파일 검색
    - 플러그인 메타데이터 읽기
    - _Requirements: 1.2_
  - [x] 10.2 플러그인 로드 및 초기화
    - libloading을 사용한 동적 라이브러리 로드
    - 플러그인 생성자 호출
    - 플러그인 초기화 및 레지스트리 등록
    - _Requirements: 1.3_
  - [x] 10.3 플러그인 로드 실패 처리
    - 로드 실패 시 에러 로깅
    - 앱 실행은 계속 진행
    - _Requirements: 5.2_

- [ ] 11. 비동기 변환 처리 구현
  - [x] 11.1 변환 작업 스레드 분리
    - 변환 작업을 별도 스레드에서 실행
    - UI 스레드와 통신 채널 설정
    - _Requirements: 2.5_
  - [x] 11.2 진행 상태 업데이트
    - 변환 진행률 계산 및 전달
    - UI에서 진행 상태 수신 및 표시
    - _Requirements: 2.5, 7.4_

- [x] 12. 통합 및 최종 테스트
  - [x] 12.1 전체 시스템 통합
    - 모든 크레이트 연결 확인
    - 의존성 해결
    - 빌드 오류 수정
    - _Requirements: 4.4_
  - [x] 12.2 엔드투엔드 시나리오 테스트
    - 파일 선택부터 변환 완료까지 전체 플로우 테스트
    - 일괄 변환 시나리오 테스트
    - 에러 케이스 테스트
    - _Requirements: 모든 요구사항_
  - [x] 12.3 프로젝트 문서화
    - 루트 README.md 작성
    - 빌드 및 실행 방법 문서화
    - 플러그인 개발 가이드 작성
    - _Requirements: 6.4_
